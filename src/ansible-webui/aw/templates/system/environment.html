{% extends "../body.html" %}
{% load static %}
{% load util %}
{% block content %}
<script src="{% static 'js/settings/environment.js' %}"></script>
<div class="aw-data">
    <h2>System version</h2>
    <div class="table-responsive">
        <table class="table table-striped aw-text-responsive">
            <tr>
                <th>Component</th>
                <th>Version</th>
            </tr>
            <tr>
                <td>Python</td>
                <td>{{ env_python }}</td>
            </tr>
            <tr>
                <td>Ansible Web-UI</td>
                <td>{% get_version %}</td>
            </tr>
            <tr>
                <td>Django</td>
                <td>{{ env_django }}</td>
            </tr>
            <tr>
                <td>Django Rest-Framework</td>
                <td>{{ env_django_api }}</td>
            </tr>
            <tr>
                <td>Gunicorn</td>
                <td>{{ env_gunicorn }}</td>
            </tr>
{% if env_ansible is not none %}
            <tr>
                <td>Ansible</td>
                <td>{{ env_ansible }}</td>
            </tr>
{% endif %}
{% if env_ansible_core is not none %}
            <tr>
                <td>Ansible Core</td>
                <td>{{ env_ansible_core }}</td>
            </tr>
{% endif %}
{% if env_ansible_runner is not none %}
            <tr>
                <td>Ansible Runner</td>
                <td>{{ env_ansible_runner }}</td>
            </tr>
{% endif %}
{% if env_jinja is not none %}
            <tr>
                <td>Jinja</td>
                <td>{{ env_jinja }}</td>
            </tr>
{% endif %}
{% if env_libyaml is not none %}
            <tr>
                <td>Using libyaml</td>
                <td>{{ env_libyaml }}</td>
            </tr>
{% endif %}
            <tr>
                <td>Linux</td>
                <td>{{ env_linux }}</td>
            </tr>
        </table>
    </div>
    <hr>
    <h2>Ansible Config</h2>
    <div class="table-responsive">
        <table class="table table-striped aw-text-responsive">
            <tr>
                <th>Setting</th>
                <th>Value</th>
                <th>Comment</th>
            </tr>
{% for setting, attrs in env_ansible_config.items %}
            <tr>
                <td><a href="{{ attrs.url }}">{{ setting }}</a></td>
                <td>{{ attrs.value }}</td>
                <td>{{ attrs.comment }}</td>
            </tr>
{% endfor %}
        </table>
    </div>
    <hr>
    <h2>Ansible Collections</h2>
    <div class="table-responsive">
        <table class="table table-striped aw-text-responsive">
            <tr>
                <th>Collection</th>
                <th>Version</th>
                <th>Path</th>
            </tr>
{% for name, attrs in env_ansible_collections.items %}
            <tr>
                <td><a href="{{ attrs.url }}/">{{ name }}</a></td>
                <td>{{ attrs.version }}</td>
                <td>{{ attrs.path }}</td>
            </tr>
{% endfor %}
        </table>
    </div>
    <hr>
    <h2>Python Modules</h2>
    <div class="table-responsive">
        <table class="table table-striped aw-text-responsive">
            <tr>
                <th>Module</th>
                <th>Version</th>
            </tr>
{% for module in env_python_modules.values %}
            <tr>
                <td><a href="https://pypi.org/project/{{ module|get_value:'name' }}/">{{ module|get_value:'name' }}</a></td>
                <td>{{ module|get_value:'version' }}</td>
            </tr>
{% endfor %}
        </table>
    </div>
</div>
{% endblock %}